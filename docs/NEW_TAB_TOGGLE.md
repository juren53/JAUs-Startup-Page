# New Tab Toggle Feature

## Overview

A new feature has been added to the Startup Dashboard Editor that allows users to toggle "Open links in new tab" functionality. Similar to the dark mode toggle, this feature adds a checkbox that enables or disables opening all links in new tabs.

## Feature Details

The "Open links in new tab" toggle:

1. **Location**: Positioned in the lower left corner of the page, aligned with the footer
2. **Functionality**: Toggles the `target="_blank"` attribute on all links
3. **Persistence**: Settings are saved in browser's localStorage
4. **Compatibility**: Works with all links except anchor links (ones starting with '#')
5. **Security**: Adds `rel="noopener noreferrer"` for security when links open in new tabs

## How It Works

### User Interface

- A clean, minimal toggle in the lower left corner of the page:
  ```html
  <div class="footer-content">
      <div class="footer-left">
          <div class="new-tab-toggle">
              <label for="newTabToggle">Open links in new tab:</label>
              <input type="checkbox" id="newTabToggle">
          </div>
      </div>
      <div class="footer-center">
          <p>Copyright information...</p>
      </div>
  </div>
  ```

### JavaScript Functionality

1. **Page Load Behavior**:
   - Checks localStorage for saved preference
   - If enabled, applies `target="_blank"` to all links
   - Sets the toggle state to match the saved preference

2. **Toggle Interaction**:
   - When toggled ON: Adds `target="_blank"` to all links
   - When toggled OFF: Removes `target="_blank"` from all links
   - Saves the preference to localStorage

3. **Implementation**:
   ```javascript
   // Handle New Tab toggle
   const newTabToggle = document.getElementById('newTabToggle');
   const allLinks = document.getElementsByTagName('a');
   
   // Check for saved new tab preference
   if (localStorage.getItem('newTabMode') === 'enabled') {
       newTabToggle.checked = true;
       // Apply target="_blank" to all links
       Array.from(allLinks).forEach(link => {
           if (!link.getAttribute('href').startsWith('#')) {
               link.setAttribute('target', '_blank');
               link.setAttribute('rel', 'noopener noreferrer');
           }
       });
   }
   
   // Toggle new tab mode
   newTabToggle.addEventListener('change', function() {
       if (this.checked) {
           // Open links in new tab
           Array.from(allLinks).forEach(link => {
               if (!link.getAttribute('href').startsWith('#')) {
                   link.setAttribute('target', '_blank');
                   link.setAttribute('rel', 'noopener noreferrer');
               }
           });
           localStorage.setItem('newTabMode', 'enabled');
       } else {
           // Open links in same tab
           Array.from(allLinks).forEach(link => {
               link.removeAttribute('target');
               link.removeAttribute('rel');
           });
           localStorage.setItem('newTabMode', 'disabled');
       }
   });
   ```

### CSS Styling

The feature is positioned using a flexible layout structure:

```css
footer {
    margin-top: 2rem;
    padding: 1rem;
    border-top: 1px solid var(--border-color);
    font-size: 0.9rem;
}

.footer-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.footer-left {
    text-align: left;
}

.footer-center {
    text-align: center;
    flex-grow: 1;
}

.new-tab-toggle {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
}
```

On smaller screens, the layout adapts to maintain usability:

```css
@media (max-width: 768px) {
    .footer-content {
        flex-direction: column;
        gap: 1rem;
    }
    
    .footer-left, .footer-center {
        width: 100%;
        text-align: center;
    }
}
```

## User Benefits

1. **Consistent Browsing Experience**: Users can set their preferred link behavior once and have it persist
2. **Workflow Efficiency**: No need to manually Ctrl+Click or right-click to open links in new tabs
3. **Easy Toggling**: Simple on/off switching without modifying HTML
4. **Visual Consistency**: Matches the existing dark mode toggle paradigm
5. **Strategic Placement**: Positioned in the lower left for easy access without interfering with main content

## Testing the Feature

1. Open a dashboard page generated by the Startup Dashboard Editor
2. Look for the "Open links in new tab" toggle in the lower left corner of the page
3. Click the toggle to enable it
4. Click any link to verify it opens in a new tab
5. Close the page and reopen it to verify the preference was saved
6. Toggle it off and verify links now open in the same tab

This feature enhances the usability of the dashboard by giving users control over how links behave, matching modern web browsing preferences.
